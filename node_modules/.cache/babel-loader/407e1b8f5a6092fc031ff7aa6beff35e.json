{"ast":null,"code":"import _classCallCheck from\"/home/madhuripatil/workspace/hooksapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/madhuripatil/workspace/hooksapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/madhuripatil/workspace/hooksapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/madhuripatil/workspace/hooksapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Keycloak from'keycloak-js';import{jsx as _jsx}from\"react/jsx-runtime\";var Secured=/*#__PURE__*/function(_Component){_inherits(Secured,_Component);var _super=_createSuper(Secured);function Secured(props){var _this;_classCallCheck(this,Secured);_this=_super.call(this,props);_this.state={keycloak:null,authenticated:false};return _this;}_createClass(Secured,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// const keycloak = Keycloak('/keycloak.json');\nvar keycloak=Keycloak({\"realm\":\"AMGEN_SSO\",\"auth-server-url\":\"http://192.0.0.220:8080/auth/\",\"ssl-required\":\"none\",\"resource\":\"non-amgen\",\"verify-token-audience\":true,\"credentials\":{\"secret\":\"7dab529b-95e0-4087-8091-f592f613c195\"},\"confidential-port\":0,\"policy-enforcer\":{}});keycloak.init({onLoad:'login-required'}).then(function(authenticated){_this2.setState({keycloak:keycloak,authenticated:authenticated});});}},{key:\"render\",value:function render(){console.log(this.state.keycloak);if(this.state.keycloak){if(this.state.authenticated)return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"This is a Keycloak-secured component of your application. You shouldn't be able to see this unless you've authenticated with Keycloak.\"})});else return/*#__PURE__*/_jsx(\"div\",{children:\"Unable to authenticate!\"});}return/*#__PURE__*/_jsx(\"div\",{children:\"Initializing Keycloak...\"});}}]);return Secured;}(Component);export default Secured;","map":{"version":3,"sources":["/home/madhuripatil/workspace/hooksapp/src/secured.js"],"names":["React","Component","Keycloak","Secured","props","state","keycloak","authenticated","init","onLoad","then","setState","console","log"],"mappings":"gmBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,C,8CAEMC,CAAAA,O,kGAEF,iBAAYC,KAAZ,CAAmB,yCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAAEC,QAAQ,CAAE,IAAZ,CAAkBC,aAAa,CAAE,KAAjC,CAAb,CAFe,aAGlB,C,qDAED,4BAAoB,iBAChB;AACA,GAAMD,CAAAA,QAAQ,CAAGJ,QAAQ,CAAC,CACtB,QAAS,WADa,CAEtB,kBAAmB,+BAFG,CAGtB,eAAgB,MAHM,CAItB,WAAY,WAJU,CAKtB,wBAAyB,IALH,CAMtB,cAAe,CACX,SAAU,sCADC,CANO,CAStB,oBAAqB,CATC,CAUtB,kBAAmB,EAVG,CAAD,CAAzB,CAaAI,QAAQ,CAACE,IAAT,CAAc,CAAEC,MAAM,CAAE,gBAAV,CAAd,EAA4CC,IAA5C,CAAiD,SAAAH,aAAa,CAAI,CAC9D,MAAI,CAACI,QAAL,CAAc,CAAEL,QAAQ,CAAEA,QAAZ,CAAsBC,aAAa,CAAEA,aAArC,CAAd,EACH,CAFD,EAGH,C,sBAED,iBAAS,CACLK,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWC,QAAvB,EACA,GAAI,KAAKD,KAAL,CAAWC,QAAf,CAAyB,CACrB,GAAI,KAAKD,KAAL,CAAWE,aAAf,CAA8B,mBAC1B,kCACI,6JADJ,EAD0B,CAA9B,IAKQ,oBAAQ,gDAAR,CACX,CACD,mBACI,iDADJ,CAGH,C,qBAxCiBN,S,EA0CtB,cAAeE,CAAAA,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport Keycloak from 'keycloak-js';\n\nclass Secured extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { keycloak: null, authenticated: false };\n    }\n\n    componentDidMount() {\n        // const keycloak = Keycloak('/keycloak.json');\n        const keycloak = Keycloak({\n            \"realm\": \"AMGEN_SSO\",\n            \"auth-server-url\": \"http://192.0.0.220:8080/auth/\",\n            \"ssl-required\": \"none\",\n            \"resource\": \"non-amgen\",\n            \"verify-token-audience\": true,\n            \"credentials\": {\n                \"secret\": \"7dab529b-95e0-4087-8091-f592f613c195\"\n            },\n            \"confidential-port\": 0,\n            \"policy-enforcer\": {}\n\n        });\n        keycloak.init({ onLoad: 'login-required' }).then(authenticated => {\n            this.setState({ keycloak: keycloak, authenticated: authenticated })\n        })\n    }\n\n    render() {\n        console.log(this.state.keycloak)\n        if (this.state.keycloak) {\n            if (this.state.authenticated) return (\n                <div>\n                    <p>This is a Keycloak-secured component of your application. You shouldn't be able\n                        to see this unless you've authenticated with Keycloak.</p>\n                </div>\n            ); else return (<div>Unable to authenticate!</div>)\n        }\n        return (\n            <div>Initializing Keycloak...</div>\n        );\n    }\n}\nexport default Secured;"]},"metadata":{},"sourceType":"module"}